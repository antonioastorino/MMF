# Make Makefile
As I like writing from scratch whatever I can, I am creating a simple shell script that generates a `Makefile` file for C/C++ (also hybrid) projects.

#### Please read carefully this document before using the tools provided here.

### Description
This project mainly consists of a single script called `makeMakefile.sh`. This script can placed in any folder of your C/C++ project. Once run, the script will look for all the `.c`, `.cpp`, `.h`, and `.hpp` files in the paths specified in the script itself. Based on those files, the script will create and populate the `Makefile` file which you can use to compile your project.

### Directory structure
The `Makefile` generated by `makeMakefile` will create the following files and folders:

1. `target_name`, by default `prj-out`, is the name of the executable to be generated
2. `target_folder`, by default `./`, is where the final target is placed
3. `build_folder`, by default `../build`, is where built objects and auxiliary files are saved

Those parameters are set towards the beginning of `makeMakefile` and you can freely modify the following parameters. However, the path assigned to `build_folder` can be delete by `./makeMakefile` or the resulting `Makefile`. Therefore, **CHOOSE A FOLDER THAT CAN BE COMPLETELY DELETED AS A BUILD FOLDER!**

## Instructions
### Test this project

* clone/download this repository for a complete C/C++ project example or

Then run

```
cd MMF/make-folder
./makeMakefile.sh                      # create the `Makefile` file in ./
make SHELL=/bin/bash [OPT=<OPT_LEVEL>] # compile your (or the downloaded) project with optimization level <OPT_LEVEL>
./prj-out-<OPT_LEVEL>                  # execute the compiled program
```
Done!

Here, `<OPT_LEVEL>` indicates the **optimization level** you can optionally choose for compiling the project. Note that `<OPT_LEVEL>` is `0` by default, namely if not specified when you run `make`. The accepted values for it are `0`, `1`, `2`, and `3`. The compiled executable is named accordingly.

To cleanup, run

```
make clean         # delete all the generated files and folders
```

### Use makeMakefile.sh in your own project

1. Copy `makeMakefile.sh` in your project directory. It is not necessary to place it in a specific location. However, it is recommended to place it where the `.c` or `.cpp` main file is located.
2. Open `makeMakefile.sh` with your favorite text editor and modify the following parameters
	- `target_name` - the name of the executable to be generated
	- `target_folder` - where the executable is placed
	- `build_folder` - where object files and auxiliary files are generated
	- `search_paths` - where dependencies are located
3. Change directory to where the you have placed the script
4. Run `./makeMakefile.sh` to genearte `Makefile` in the same location
5. Run `make SHELL=/bin/bash [OPT=<OPT_LEVEL>]` to generate the executable
6. Run `./<target_folder>/<target_name>-<OPT_LEVEL>`

Note that `target_folder`, `build_folder`, and `search_paths` are relative to the location of `makeMakefile.sh`. Also remember that **`build_folder` is erased by the command `make clean` and, therefore, it must not contain subfolders you want to keep!** In addition, you must not have have multiple projects main files in the paths specified in `search_paths`.

## Final note
Most of my C/C++ projcects use my `makeMakefile.sh` script. You may want to look at them for further examples.

Any comments are welcomed and, as always, feel free to contact me if you have any questions.